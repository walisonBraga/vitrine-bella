<app-navigation-admin>
  <div class="clients-management">
    <!-- Header -->
    <div class="page-header">
      <div class="header-content">
        <h1>Gerenciamento de Clientes</h1>
        <p>Visualize todos os clientes cadastrados no sistema</p>
      </div>
    </div>

    <!-- Ações em lote -->
    <div class="bulk-actions" *ngIf="selectedUsers.length > 0">
      <div class="bulk-info">
        <mat-icon>group</mat-icon>
        <span>{{ selectedUsers.length }} cliente(s) selecionado(s)</span>
      </div>
      <div class="bulk-buttons">
        <button mat-button color="primary" (click)="bulkAction('activate')">
          <mat-icon>check_circle</mat-icon>
          Ativar
        </button>
        <button mat-button color="accent" (click)="bulkAction('deactivate')">
          <mat-icon>cancel</mat-icon>
          Desativar
        </button>
        <button mat-button color="warn" (click)="bulkAction('delete')">
          <mat-icon>delete</mat-icon>
          Excluir
        </button>
      </div>
    </div>

    <!-- Estatísticas -->
    <div class="stats-container">
      <div class="stat-card">
        <div class="stat-icon total">
          <mat-icon>people</mat-icon>
        </div>
        <div class="stat-content">
          <h3>{{ getClientCount() }}</h3>
          <p>Total de Clientes</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon active">
          <mat-icon>check_circle</mat-icon>
        </div>
        <div class="stat-content">
          <h3>{{ getActiveClientCount() }}</h3>
          <p>Clientes Ativos</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon inactive">
          <mat-icon>cancel</mat-icon>
        </div>
        <div class="stat-content">
          <h3>{{ getInactiveClientCount() }}</h3>
          <p>Clientes Inativos</p>
        </div>
      </div>
    </div>

    <!-- Tabela de clientes -->
    <app-loja-user-table [users]="users" [config]="tableConfig" [loading]="loading"
      searchPlaceholder="Buscar por nome, email ou CPF..." (userSelected)="onUserSelected($event)"
      (actionClicked)="onActionClicked($event)" (usersSelected)="onUsersSelected($event)">
    </app-loja-user-table>
  </div>
</app-navigation-admin>
